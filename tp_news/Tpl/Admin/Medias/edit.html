<style type="text/css" media="screen">
.my-uploadify-button {
	background:none;
	border: none;
	text-shadow: none;
	border-radius:0;
}

.uploadify:hover .my-uploadify-button {
	background:none;
	border: none;
}

.fileQueue {
	width: 400px;
	height: 150px;
	overflow: auto;
	border: 1px solid #E5E5E5;
	margin-bottom: 10px;
}
p { width: 300px; }

</style>



<div class="pageContent">
		<div class="pageFormContent" style="padding: 5px 5px;" layoutH="45">
			<p style="padding: 5px 0;height: 25px;">
                 <label>选择要上传的文件：</label>
                 <label><input id="testFileInput2" type="file" name="image"/></label>
            </p>
            <p style="padding: 5px 0;width: 100%;">
                 <label>上传文件最大尺寸：</label>
                 <label>32MB</label>
            </p>
            <p style="padding: 5px 0;width: 100%;">
                 <label style="width:auto;">文件上传之后，您可以为它添加标题和描述。</label>
            </p>
            <div id="tttlest" class="divider"></div>
            <div id="fileQueue" class="fileQueue" style="width: 650px;height: 50px;border: 0px solid #E5E5E5;"></div>
            
            <!-- 
            <table cellpadding="0" cellspacing="0" width="70%" style="border: 1px solid #E5E5E5;">
            	<tr>
            		<td><img width="40" height="40" src="http://localhost/Uploads/5253aad45b061.jpg" alt="" style="margin-left: 0px; display: inline;"></td>
            		<td>@C3TRTV2KVL_AFGUD}VS8KN</td>
            		<td><a id="describe-toggle-on" href="#" style="display: block;">显示</a></td>
            	</tr>
            	<tr id="fullTr" style="display: none;">
            		<td colspan="3" style="border-top: 1px solid #E5E5E5;padding-left: 10px;">
            			<table style="display: table;">
							<thead class="media-item-info" id="media-head-64">
								<tr valign="top" style="height: 170px;">
									<td class="A1B1" id="thumbnail-head-64">
									<p style="width: 250px;"><a href="http://alvanews.sourceforge.net/?attachment_id=64" target="_blank"><img class="thumbnail" src="http://localhost/Uploads/5253aad45b061.jpg" height="150" width="150" alt="" style="margin-top: 3px"></a></p>
									</td>
									<td>
									<p style="height: 5px"></p>
									<p><strong>文件名：</strong> @C3TRTV2KVL_AFGUDVS8KN2.jpg</p>
									<p><strong>文件类型：</strong> image/jpeg</p>
									<p><strong>上传日期：</strong> 2013 年 9 月 29 日</p><p><strong>尺寸：</strong> <span id="media-dims-64">1000&nbsp;×&nbsp;817</span> </p>
								</td></tr>
							</thead>
							<tbody>
								<tr><td colspan="2" class="imgedit-response" id="imgedit-response-64"></td></tr>
								<tr class="post_title form-required">
									<th valign="top" scope="row" class="label" style="height: 30px;"><label for="attachments[64][post_title]"><span class="alignleft">标题</span><span class="alignright"><abbr title="required" class="required">*</abbr></span><br class="clear"></label></th>
									<td class="field"><input type="text" class="text" id="attachments[64][post_title]" name="attachments[64][post_title]" value="@C3TRTV2KVL_AFGUD}VS8KN" aria-required="true" style="width: 460px;"></td>
								</tr>
								<tr class="image_alt">
									<th valign="top" scope="row" class="label"><label for="attachments[64][image_alt]"><span class="alignleft">替代文本</span><br class="clear"></label></th>
									<td class="field"><input type="text" class="text" id="attachments[64][image_alt]" name="attachments[64][image_alt]" value="" style="width: 460px;"><p class="help">图像的替代文本，例如“蒙娜丽莎”</p></td>
								</tr>
								<tr class="post_excerpt">
									<th valign="top" scope="row" class="label" style="height: 30px;"><label for="attachments[64][post_excerpt]"><span class="alignleft">说明</span><br class="clear"></label></th>
									<td class="field"><input type="text" class="text" id="attachments[64][post_excerpt]" name="attachments[64][post_excerpt]" value="" style="width: 460px;"></td>
								</tr>
								<tr class="post_content">
									<th valign="top" scope="row" class="label" style="height: 50px;"><label for="attachments[64][post_content]"><span class="alignleft">描述</span><br class="clear"></label></th>
									<td class="field"><textarea id="attachments[64][post_content]" name="attachments[64][post_content]" style="width: 460px;"></textarea></td>
								</tr>
								<tr class="image_url">
									<th valign="top" scope="row" class="label"><label for="attachments[64][image_url]"><span class="alignleft">文件 URL</span><br class="clear"></label></th>
									<td class="field"><input type="text" class="text urlfield" readonly="readonly" name="attachments[64][url]" value="http://alvanews.sourceforge.net/wp-content/uploads/2013/09/@C3TRTV2KVL_AFGUDVS8KN2.jpg" style="width: 460px;"><br><p class="help">上传文件的位置。<a href="#" class="del-link" onclick="document.getElementById('del_attachment_64').style.display='block';return false;">删除</a></td></p>
								</tr>
							</tbody>
						</table>
            		</td>
            	</tr>
            </table>
             -->
            <!-- <div style="width: 650px;height: 50px;">
            	<img width="40" height="40" class="pinkynail toggle" src="http://alvanews.sourceforge.net/wp-content/uploads/2013/09/@C3TRTV2KVL_AFGUDVS8KN2-150x150.jpg" alt="" style="margin-top: 3px; display: inline;">	
            	<div class="filename new" style="line-height: 36px;overflow: hidden;"><span class="title">@C3TRTV2KVL_AFGUD}VS8KN</span></div>
            </div> -->
            
            <!-- <div id="fileQueue" class="fileQueue" style="width: 650px;height: 50px;"></div> -->
            <!-- <div id="fileQueue" class="fileQueue" style="width: 500px;height: 50px;"></div> -->
		</div>
        <!-- <div class="pageFormContent" style="padding: 5px 5px;" layoutH="45">
            <p style="padding: 5px 0;">
                 <label>类型：</label>
                 <select class="combox" name="status">
	                 <option value="1">图片</option>
	                 <option value="2">音频</option>
	                 <option value="3">视频</option>
                 </select>
            </p>
            <p style="padding: 5px 0;">
                 <label>来源：</label>
                 <select class="combox" name="status">
                 	<option value="2">内部</option>
                 	<option value="1">外部</option>
                 </select>
            </p>
            
            <div class="divider"></div>
            
            <input id="testFileInput2" type="file" name="image"/>

            <div id="fileQueue" class="fileQueue" style="width: 500px;height: 250px;"></div>

            <input type="image" src="__DWZ__/uploadify/img/upload.jpg" onclick="$('#testFileInput2').uploadify('upload', '*');"/>
            <input type="image" src="__DWZ__/uploadify/img/cancel.jpg" onclick="$('#testFileInput2').uploadify('cancel', '*');"/>

        </div>
        <div class="formBar">
	        <ul>
	            <li><div class="buttonActive"><div class="buttonContent"><button type="submit">保存</button></div></div></li>
	            <li>
	                    <div class="button"><div class="buttonContent"><button type="button" class="close">取消</button></div></div>
	            </li>
	        </ul>
        </div> -->
</div>
<script type="text/javascript">
$(document).ready(function(){
    $("#testFileInput2").uploadify({
    	swf:'__DWZ__/uploadify/scripts/uploadify.swf',
        uploader:'__APP__/admin/medias/upload',
        formData:{PHPSESSID:'xxx', ajax:1},
        queueID:'fileQueue',
        buttonImage:'__DWZ__/uploadify/img/add.jpg',
        buttonClass:'my-uploadify-button',
        width:102,
        auto:true,
		multi:true,
		onUploadSuccess : function(file, data, response) {
			//$("#fileQueue").hide();
			var dataObj = jQuery.parseJSON(data);
			onUploadSuccess(file, dataObj, response);
        },
		//onQueueComplete:uploadifyQueueComplete1,
		onSelect:initDiv
    });
    function onUploadSuccess(file, data, response){
    	var templeate = "<table cellpadding='0' cellspacing='0' width='70%' style='border: 1px solid #E5E5E5;'>"
    		+"<tr>"
    		+"<td><img width='40' height='40' src='"+data.url+"' alt='' style='margin-left: 0px; display: inline;'></td>"
    		+"<td>"+data.name+"</td>"
    		+"<td><a id='describe-toggle-on' href='#' style='display: block;'>显示</a></td>"
    		+"</tr>"
    		+"</table>";
    	$("#fileQueue").after(templeate);
    }
    function initDiv(){
    }
    $("#describe-toggle-on").toggle(
	  function(){
	  	$("#fullTr").show();
	  },
	  function(){
	  	$("#fullTr").hide();
	  }
	);
});  
</script>